<div class="container">
  <nav class="navbar">
    <div class="navbar-brand">
      <h1 class="hirehub-logo">HireHub</h1>
    </div>
    <div class="navbar-actions">
      <button class="btn btn-back" (click)="cancel()">Back to Dashboard</button>
    </div>
  </nav>

  <div class="form-container">
    <h1>{{ isEditing ? "Edit Job" : "Post a New Job" }}</h1>

    <div *ngIf="loading" class="loading-state text-center">
      <span class="spinner"></span>
      <p>Loading job details...</p>
    </div>

    <div *ngIf="error" class="alert alert-danger">
      <span class="alert-icon">⚠️</span>
      {{ error }}
    </div>

    <div *ngIf="!loading && !error">
      <form (ngSubmit)="submitJob()">
        <div class="form-group" *ngIf="isEditing">
          <label for="jobId">Job ID</label>
          <input
            id="jobId"
            [ngModel]="job._id"
            name="jobId"
            type="text"
            readonly
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="title">Job Title</label>
          <input
            id="title"
            [(ngModel)]="job.title"
            name="title"
            type="text"
            placeholder="Enter job title"
            required
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <textarea
            id="description"
            [(ngModel)]="job.description"
            name="description"
            placeholder="Enter job description"
            rows="5"
            required
            class="form-control"
          ></textarea>
        </div>
        <div class="form-group">
          <label for="companyName">Company Name</label>
          <input
            id="companyName"
            [ngModel]="job.companyName"
            name="companyName"
            type="text"
            readonly
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="location">Location</label>
          <input
            id="location"
            [(ngModel)]="job.location"
            name="location"
            type="text"
            placeholder="Enter location"
            required
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="salary">Salary</label>
          <input
            id="salary"
            [(ngModel)]="job.salary"
            name="salary"
            type="number"
            placeholder="Enter salary"
            min="0"
            required
            class="form-control"
          />
        </div>
        <div class="form-group">
          <label for="type">Job Type</label>
          <select
            id="type"
            [(ngModel)]="job.type"
            name="type"
            required
            class="form-control"
          >
            <option value="Full-time">Full-time</option>
            <option value="Part-time">Part-time</option>
            <option value="Contract">Contract</option>
          </select>
        </div>
        <div class="form-group">
          <label for="experience">Experience (Years)</label>
          <select
            id="experience"
            [(ngModel)]="job.experience"
            name="experience"
            required
            class="form-control"
          >
            <option value="0-1">0-1</option>
            <option value="1-3">1-3</option>
            <option value="3-5">3-5</option>
          </select>
        </div>
        <div class="form-group">
          <label for="status">Status</label>
          <select
            id="status"
            [(ngModel)]="job.status"
            name="status"
            required
            class="form-control"
          >
            <option value="Open">Open</option>
            <option value="Closed">Closed</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-submit" [disabled]="loading">
            {{ isEditing ? "Update Job" : "Submit Job" }}
          </button>
          <button
            type="button"
            class="btn btn-cancel"
            (click)="cancel()"
            [disabled]="loading"
          >
            Cancel
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
